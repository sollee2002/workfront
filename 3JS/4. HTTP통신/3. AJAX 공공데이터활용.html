<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>공공데이터활용</title>
    <style>
        * {
            list-style: none;
        }
    </style>
</head>
<body>
    <div id="result">


    </div>
    <script>
        let url = 'https://apis.data.go.kr/B551011/GoCamping/locationBasedList?serviceKey=oh03y6%2F3ATYA0TGslTMwKuRcYEOmm3Pgc3jeLrmefCAhsgDG4e19TiKxdWQ1z6gV%2Bs8H%2Fb%2BqkJesEYQc6vAbtQ%3D%3D&numOfRows=10&pageNo=1&MobileOS=ETC&MobileApp=AppTest&mapX=128.6142847&mapY=36.0345423&radius=2000&_type=json';
        let xhr = new XMLHttpRequest();
        xhr.open('get', url);
        xhr.send();

        xhr.onreadystatechange = function() {

        let resDiv = document.querySelector('#result');

        if(xhr.readyState === 4 && xhr.status == 200) {
        
            //객체로 변환
            let xhrObj = JSON.parse(xhr.responseText);
            
            console.log(xhrObj);
            
            let item = xhrObj.response.body.items.item;

            for(num in item) {
          
            resDiv.innerHTML += `<h1>${item[num].facltNm}</h1>
                                <ul>
                                <li>주소 : ${item[num].addr1}</li>
                                <li><img src="${item[num].firstImageUrl}"></li>
                                <li>${item[num].intro}</li>
                                </ul>`;
        }
        }

        }


    </script>
    
</body>
</html>